	<form action="../scripts/newGameCreator.php" method="post" id="newGameForm" class="form">
	 
	 <label class="formHeading">New game</label>
	 
	 <br><br>
	
	 <input name="newGameId" id="newGameId" placeholder="Enter your game id" required>
	 
	 <br><br>
	 
	 <input name="newGamePassword" type="password" placeholder="Enter a password" required>
	 
	 <br><br>
	 
	 <select id="sltGame" name="game">
	 
	 	<option selected hidden>Select a game</option>
	 
	 	<!--<option>Scrabble</option>-->
	 
	 	<option>Whot</option>
	 
	 </select>
	 
	 <br><br>
	 
	 <select id="sltWhotCheckType" name="whotCheckType">
	 
	 	<option selected hidden>Select check type</option>
	 
	 	<option>Individual check(Single)</option>
	 
	 	<option>Individual check(Recurring)</option>
	 
	 	<option>Highest number out</option>
	 
	 </select>
	 
	 <br><br>
	 
	 <input class="hidden" name="gameExist" id="gameExist" value="" >
	 
	 <input class="hidden" name="userVariable" id="userVariable" value="" >
	 
	 <input class="hidden" name="usercode" id="usercode" value="" >
	 
	 <input class="hidden" name="username" id="username">
	 
	 <input class="hidden" name="cardSelectionArray" id="hiddenCardSelectionArray">
	 
	 <textarea class="hidden" name="newGameStatus" id="newGameStatus"></textarea>
	 
	 <button type="submit">Submit</button>
	 
	 </form>
	 
	 <label id="info"></label>
	 
	 <script>
	 
	 setInterval(function() {
	 
		 checkSessionExistance();
		 
		}, 200);
	 
	 		$("#username").val( localStorage.getItem("scrabblitUsername"));
	 		
	 		$("#userVariable").val(localStorage.getItem("accountInformation"));
	 		
	 	// ensure game name do not contain spaces or special characters at intervals 
	 	
	 	setInterval(function() {
	 	
	 		$("#newGameId").val( $("#newGameId").val().toLowerCase().replace(/ /g, "").replace(".", "").replace("/", "").replace("?",  "").replace("#",  "") );
	 		
	 	}, 500);
	 	
//form submit event listener 
	 		
	 	$("#newGameForm").submit(function() {
	 	
	 	if($("#sltGame").val() =="Select a game") {
	 	
	 		event.preventDefault();
	 				
	 		toast("Please select a game");
	 		
	 	}
	 		
	 	if($("#sltGame").val() =="Whot") {
	 	
	 		// prevent creation of session if check type is unselected
	 	
	 		if($("#sltWhotCheckType").val() =="Select check type") {
	 	
	 			event.preventDefault();
	 				
	 			toast("Please select a check type");
	 		
	 		}
	 		
	 	// code block which fixes random numbers for whot card selection array 
	 	
			var arr = [];

			var x = 0;

			var rn;

			while ( x < 54 ) {
 
				rn = randomNumb();
	
				if(arr.indexOf(rn) == -1) {
	
					arr.push(" " + rn);
	
					x++;

				}
	
			}

			function randomNumb() {

				return Math.floor(Math.random() * 54);
	
			}
			
			$("#hiddenCardSelectionArray").val("var cardSelectionArray = [" + arr + "];");
	 		
	 		}
	 		
	 		else {
	 				
	 //trimming game name
	 	
	 			$("#newGameId").val( $("#newGameId").val().trim().toLowerCase().replace(/ /g, "") );
	 			
	 		}
	 		
	 	});
	 	
	 	
	 	
// game id keyup event listener 
	  		
	 	$("#newGameId").keyup(function() {
	 	
	 		checkSessionExistance();
	 			
	 	});
	 	
	 	
	 		
	// function to check if session already exists 
	 		
	 		function checkSessionExistance() {
	 			
	 //loading pswd file to check if game is already in progress
	 		
	 		$("#newGameStatus").load("../session/" + $("#newGameId").val().toLowerCase().replace(/ /g, "").replace(".", "").replace("/", "").replace("?",  "").replace("#",  "") + "/pswd.txt", function(responseTxt,  statusTxt, xhr) {
	 		
	 	//prevent creation of new session if it already exists 
	 		
	 			if(statusTxt == "success") {
	 			
	 			$("#gameExist").val("yes");
	 			
	 			}
	 			
	 			else {
	 			
	 				$("#gameExist").val("no");
	 			
	 			}
	 		
	 	});
	 	
	 }
	 
	$.ajax({
		type: "POST",
		url: "../scripts/accounts.php",
		data: {
			request: "myProfileUsercode",
			username: localStorage.getItem("scrabblitUsername")
		},
		success: function(response) {
				
			$("#usercode").val(response);

		}
	});

	// display information regarding check type
	
	$("#sltWhotCheckType").change(function() {
	
		if($(this).val() == "Individual check(Single)") {
		
			$("#info").html("Individual check(Single) <br><br> Anyone whose cards finishes automatically get dropped out of the game and instantly gets his position");
		
		}
	
		else if($(this).val() == "Individual check(Recurring)") {
		
			$("#info").html("Individual check(Recurring) <br><br> Anyone whose cards finishes temporarily get dropped out of the game. Once the second to the last player checks out, the last player permanently gets dropped out of the game and instantly gets a last position while the others return to play again. The last person is dropped on every round");
		
		}
	
		else if($(this).val() == "Highest number out") {
		
			$("#info").html("Highest number out <br><br> Once someone checks on each round, the player with the highest sum of numbers on his cards gets dropped out while the others return to play another round");
		
		}
	
		else {}
		
	});
	 		
	 </script>
	 